[gd_scene load_steps=26 format=3 uid="uid://dww60raoe5gef"]

[ext_resource type="Script" uid="uid://bl35n2knhxeuu" path="res://Scenes/Note/note.gd" id="1_urdro"]
[ext_resource type="StyleBox" uid="uid://dr0kq08kg1hre" path="res://Styles/BlackPanel.tres" id="2_2m4no"]
[ext_resource type="Shader" uid="uid://dmludjy5n4ygv" path="res://Shader/Sephia/sephia.gdshader" id="2_qsuu7"]
[ext_resource type="FontFile" uid="uid://dlia1t71max12" path="res://Fonts/PixelOperator.ttf" id="6_qsuu7"]
[ext_resource type="LabelSettings" uid="uid://oew3p1gg5ddw" path="res://Fonts/font_2_16_black.tres" id="7_b8pka"]
[ext_resource type="PackedScene" uid="uid://c7n7pxhkwpt0k" path="res://UI/SvgIcon/SVGIcon.tscn" id="7_inb6f"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_b8pka"]
bg_color = Color(0.07, 0.07, 0.07, 0)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_inb6f"]
shader = ExtResource("2_qsuu7")

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_b4xxh"]
bg_color = Color(0, 0, 0, 0)

[sub_resource type="Shader" id="Shader_qsuu7"]
code = "shader_type canvas_item;

uniform float glow_intensity : hint_range(0.0, 5.0) = 1.5;
uniform float glow_radius : hint_range(0.0, 20.0) = 5.0;
uniform float opacity : hint_range(0.0, 1.0) = 1.0;
uniform float glow_offset_strength : hint_range(0.0, 10.0) = 1.0; // controls how far inward samples are pulled

void fragment() {
    vec2 texel_size = vec2(1.0) / vec2(textureSize(TEXTURE, 0));
    vec4 base_color = texture(TEXTURE, UV);

    vec3 glow = vec3(0.0);
    float total = 0.0;

    // Direction toward center from current fragment
    vec2 center = vec2(0.5);
    vec2 to_center = normalize(center - UV);

    for (float x = -glow_radius; x <= glow_radius; x++) {
        // Pull each sample inward toward center
        vec2 offset = to_center * x * texel_size.x * glow_offset_strength;
        glow += texture(TEXTURE, UV + offset).rgb;
        total += 1.0;
    }

    glow = (glow / total) * glow_intensity;
    vec3 final_color = base_color.rgb + glow;

    COLOR = vec4(final_color, base_color.a * opacity);
}
"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_b8pka"]
shader = SubResource("Shader_qsuu7")
shader_parameter/glow_intensity = 0.5
shader_parameter/glow_radius = 5.0
shader_parameter/opacity = 1.0
shader_parameter/glow_offset_strength = 2.888

[sub_resource type="ViewportTexture" id="ViewportTexture_qsuu7"]
viewport_path = NodePath("SubViewport")

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_inb6f"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_ief6q"]
bg_color = Color(0, 0, 0, 0.839216)
corner_radius_top_right = 10

[sub_resource type="LabelSettings" id="LabelSettings_qcla4"]
font = ExtResource("6_qsuu7")
font_color = Color(0.0833333, 1, 0, 1)
shadow_size = 3
shadow_color = Color(0, 0, 0, 0.380392)
shadow_offset = Vector2(2, 2)

[sub_resource type="LabelSettings" id="LabelSettings_b8pka"]
font = ExtResource("6_qsuu7")
font_color = Color(0.9, 1, 0, 1)
shadow_size = 3
shadow_color = Color(0, 0, 0, 0.380392)
shadow_offset = Vector2(2, 2)

[sub_resource type="LabelSettings" id="LabelSettings_b4xxh"]
font = ExtResource("6_qsuu7")
shadow_size = 3
shadow_color = Color(0, 0, 0, 0.380392)
shadow_offset = Vector2(2, 2)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_qsuu7"]
bg_color = Color(0.6, 0.6, 0.6, 0.54902)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_inb6f"]
bg_color = Color(0.6, 0.6, 0.6, 0.623529)

[sub_resource type="LabelSettings" id="LabelSettings_ief6q"]
font = ExtResource("6_qsuu7")
font_color = Color(0.266667, 1, 0.2, 0.8)
outline_size = 2
outline_color = Color(0.346667, 1, 0.2, 0.501961)

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_x4oev"]

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_mny5u"]

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_qcla4"]

[sub_resource type="LabelSettings" id="LabelSettings_4wpmt"]
font = ExtResource("6_qsuu7")
font_color = Color(0.266667, 1, 0.2, 0.8)
outline_size = 2
outline_color = Color(0.346667, 1, 0.2, 0.501961)

[sub_resource type="LabelSettings" id="LabelSettings_ei6v4"]
font = ExtResource("6_qsuu7")
font_color = Color(0.266667, 1, 0.2, 0.8)
outline_size = 2
outline_color = Color(0.346667, 1, 0.2, 0.501961)

[node name="Terminal" type="PanelContainer"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 3
size_flags_vertical = 3
theme_override_styles/panel = SubResource("StyleBoxFlat_b8pka")
script = ExtResource("1_urdro")

[node name="SubViewport" type="SubViewport" parent="."]
size = Vector2i(1920, 1080)

[node name="SnapshotTextureRect" type="TextureRect" parent="SubViewport"]
material = SubResource("ShaderMaterial_inb6f")
offset_right = 1920.0
offset_bottom = 1080.0

[node name="SnapshotControl" type="Control" parent="."]
layout_mode = 2

[node name="PanelContainer" type="PanelContainer" parent="SnapshotControl"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_styles/panel = SubResource("StyleBoxFlat_b4xxh")

[node name="MarginContainer" type="MarginContainer" parent="SnapshotControl/PanelContainer"]
layout_mode = 2
theme_override_constants/margin_left = 0
theme_override_constants/margin_top = 0
theme_override_constants/margin_right = 0
theme_override_constants/margin_bottom = 0

[node name="TextureRect" type="TextureRect" parent="SnapshotControl/PanelContainer/MarginContainer"]
material = SubResource("ShaderMaterial_b8pka")
layout_mode = 2
texture = SubResource("ViewportTexture_qsuu7")
expand_mode = 2

[node name="PromptControl" type="Control" parent="."]
layout_mode = 2

[node name="PanelContainer" type="PanelContainer" parent="PromptControl"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_styles/panel = SubResource("StyleBoxEmpty_inb6f")

[node name="Terminal" type="PanelContainer" parent="PromptControl/PanelContainer"]
layout_mode = 2
size_flags_horizontal = 0
size_flags_vertical = 8
theme_override_styles/panel = SubResource("StyleBoxFlat_ief6q")

[node name="MarginContainer" type="MarginContainer" parent="PromptControl/PanelContainer/Terminal"]
layout_mode = 2
theme_override_constants/margin_left = 20
theme_override_constants/margin_top = 10
theme_override_constants/margin_right = 20
theme_override_constants/margin_bottom = 15

[node name="HBoxContainer" type="HBoxContainer" parent="PromptControl/PanelContainer/Terminal/MarginContainer"]
layout_mode = 2
theme_override_constants/separation = 0

[node name="Label" type="Label" parent="PromptControl/PanelContainer/Terminal/MarginContainer/HBoxContainer"]
layout_mode = 2
text = "user@"
label_settings = SubResource("LabelSettings_qcla4")

[node name="Label2" type="Label" parent="PromptControl/PanelContainer/Terminal/MarginContainer/HBoxContainer"]
layout_mode = 2
text = "scp:"
label_settings = SubResource("LabelSettings_b8pka")

[node name="PromptLabel" type="Label" parent="PromptControl/PanelContainer/Terminal/MarginContainer/HBoxContainer"]
layout_mode = 2
text = "note.exe"
label_settings = SubResource("LabelSettings_b4xxh")

[node name="MarginContainer2" type="MarginContainer" parent="PromptControl/PanelContainer/Terminal/MarginContainer/HBoxContainer"]
layout_mode = 2
theme_override_constants/margin_left = 5
theme_override_constants/margin_top = 2

[node name="VBoxContainer" type="VBoxContainer" parent="PromptControl/PanelContainer/Terminal/MarginContainer/HBoxContainer/MarginContainer2"]
layout_mode = 2
theme_override_constants/separation = 0

[node name="SVGIcon" parent="PromptControl/PanelContainer/Terminal/MarginContainer/HBoxContainer/MarginContainer2/VBoxContainer" instance=ExtResource("7_inb6f")]
custom_minimum_size = Vector2(10, 10)
layout_mode = 2
icon = 37
icon_color = Color(1, 1, 1, 1)
icon_size = Vector2(10, 10)
flip_v = true

[node name="SVGIcon2" parent="PromptControl/PanelContainer/Terminal/MarginContainer/HBoxContainer/MarginContainer2/VBoxContainer" instance=ExtResource("7_inb6f")]
custom_minimum_size = Vector2(10, 10)
layout_mode = 2
icon = 37
icon_color = Color(1, 1, 1, 1)
icon_size = Vector2(10, 10)

[node name="PreviewControl" type="Control" parent="."]
layout_mode = 2

[node name="PanelContainer" type="PanelContainer" parent="PreviewControl"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_styles/panel = SubResource("StyleBoxFlat_qsuu7")

[node name="MarginContainer" type="MarginContainer" parent="PreviewControl/PanelContainer"]
layout_mode = 2

[node name="Control" type="Control" parent="PreviewControl/PanelContainer/MarginContainer"]
layout_mode = 2

[node name="CreateNoteControl" type="Control" parent="."]
layout_mode = 2

[node name="PanelContainer" type="PanelContainer" parent="CreateNoteControl"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_styles/panel = SubResource("StyleBoxFlat_inb6f")

[node name="MarginContainer" type="MarginContainer" parent="CreateNoteControl/PanelContainer"]
layout_mode = 2
size_flags_horizontal = 4
size_flags_vertical = 4

[node name="PanelContainer" type="PanelContainer" parent="CreateNoteControl/PanelContainer/MarginContainer"]
custom_minimum_size = Vector2(450, 100)
layout_mode = 2
theme_override_styles/panel = ExtResource("2_2m4no")

[node name="VBoxContainer" type="VBoxContainer" parent="CreateNoteControl/PanelContainer/MarginContainer/PanelContainer"]
layout_mode = 2

[node name="MarginContainer" type="MarginContainer" parent="CreateNoteControl/PanelContainer/MarginContainer/PanelContainer/VBoxContainer"]
layout_mode = 2
theme_override_constants/margin_left = 10
theme_override_constants/margin_top = 10
theme_override_constants/margin_right = 10
theme_override_constants/margin_bottom = 10

[node name="Label" type="Label" parent="CreateNoteControl/PanelContainer/MarginContainer/PanelContainer/VBoxContainer/MarginContainer"]
layout_mode = 2
text = "Create note:"
label_settings = SubResource("LabelSettings_ief6q")

[node name="ColorRect" type="ColorRect" parent="CreateNoteControl/PanelContainer/MarginContainer/PanelContainer/VBoxContainer"]
custom_minimum_size = Vector2(0, 50)
layout_mode = 2
color = Color(1.22733e-06, 0.424974, 0.101946, 1)

[node name="MarginContainer" type="MarginContainer" parent="CreateNoteControl/PanelContainer/MarginContainer/PanelContainer/VBoxContainer/ColorRect"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_constants/margin_left = 20
theme_override_constants/margin_top = 0
theme_override_constants/margin_right = 20
theme_override_constants/margin_bottom = 0

[node name="LineEdit" type="LineEdit" parent="CreateNoteControl/PanelContainer/MarginContainer/PanelContainer/VBoxContainer/ColorRect/MarginContainer"]
layout_mode = 2
size_flags_vertical = 4
theme_override_colors/font_placeholder_color = Color(0.654232, 0.654232, 0.654232, 1)
theme_override_colors/font_color = Color(1, 1, 1, 1)
theme_override_fonts/font = ExtResource("6_qsuu7")
theme_override_font_sizes/font_size = 16
theme_override_styles/focus = SubResource("StyleBoxEmpty_x4oev")
theme_override_styles/read_only = SubResource("StyleBoxEmpty_mny5u")
theme_override_styles/normal = SubResource("StyleBoxEmpty_qcla4")
text = "Content"
placeholder_text = "new text here"
max_length = 60
context_menu_enabled = false
emoji_menu_enabled = false
shortcut_keys_enabled = false
middle_mouse_paste_enabled = false
selecting_enabled = false
deselect_on_focus_loss_enabled = false
drag_and_drop_selection_enabled = false

[node name="MarginContainer2" type="MarginContainer" parent="CreateNoteControl/PanelContainer/MarginContainer/PanelContainer/VBoxContainer"]
layout_mode = 2
theme_override_constants/margin_left = 5
theme_override_constants/margin_top = 5
theme_override_constants/margin_right = 5
theme_override_constants/margin_bottom = 5

[node name="HBoxContainer" type="HBoxContainer" parent="CreateNoteControl/PanelContainer/MarginContainer/PanelContainer/VBoxContainer/MarginContainer2"]
layout_mode = 2
theme_override_constants/separation = 10

[node name="Action" type="HBoxContainer" parent="CreateNoteControl/PanelContainer/MarginContainer/PanelContainer/VBoxContainer/MarginContainer2/HBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3
theme_override_constants/separation = 5

[node name="ColorRect" type="ColorRect" parent="CreateNoteControl/PanelContainer/MarginContainer/PanelContainer/VBoxContainer/MarginContainer2/HBoxContainer/Action"]
custom_minimum_size = Vector2(80, 30)
layout_mode = 2
color = Color(0, 0.964706, 0.278431, 1)

[node name="MarginContainer" type="MarginContainer" parent="CreateNoteControl/PanelContainer/MarginContainer/PanelContainer/VBoxContainer/MarginContainer2/HBoxContainer/Action/ColorRect"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="Label" type="Label" parent="CreateNoteControl/PanelContainer/MarginContainer/PanelContainer/VBoxContainer/MarginContainer2/HBoxContainer/Action/ColorRect/MarginContainer"]
layout_mode = 2
size_flags_vertical = 1
text = "Enter"
label_settings = ExtResource("7_b8pka")
horizontal_alignment = 1
vertical_alignment = 1

[node name="ActionLabel" type="Label" parent="CreateNoteControl/PanelContainer/MarginContainer/PanelContainer/VBoxContainer/MarginContainer2/HBoxContainer/Action"]
layout_mode = 2
text = "Save"
label_settings = SubResource("LabelSettings_4wpmt")

[node name="Back" type="HBoxContainer" parent="CreateNoteControl/PanelContainer/MarginContainer/PanelContainer/VBoxContainer/MarginContainer2/HBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3
theme_override_constants/separation = 5

[node name="ColorRect" type="ColorRect" parent="CreateNoteControl/PanelContainer/MarginContainer/PanelContainer/VBoxContainer/MarginContainer2/HBoxContainer/Back"]
custom_minimum_size = Vector2(80, 30)
layout_mode = 2
color = Color(0, 0.964706, 0.278431, 1)

[node name="MarginContainer" type="MarginContainer" parent="CreateNoteControl/PanelContainer/MarginContainer/PanelContainer/VBoxContainer/MarginContainer2/HBoxContainer/Back/ColorRect"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="Label" type="Label" parent="CreateNoteControl/PanelContainer/MarginContainer/PanelContainer/VBoxContainer/MarginContainer2/HBoxContainer/Back/ColorRect/MarginContainer"]
layout_mode = 2
size_flags_vertical = 1
text = "tab"
label_settings = ExtResource("7_b8pka")
horizontal_alignment = 1
vertical_alignment = 1

[node name="Label" type="Label" parent="CreateNoteControl/PanelContainer/MarginContainer/PanelContainer/VBoxContainer/MarginContainer2/HBoxContainer/Back"]
layout_mode = 2
text = "Cancel"
label_settings = SubResource("LabelSettings_ei6v4")

[node name="CenterContainer" type="CenterContainer" parent="CreateNoteControl"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="NoteControl" type="Control" parent="."]
layout_mode = 2
