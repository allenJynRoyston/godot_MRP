[gd_scene load_steps=29 format=3 uid="uid://dww60raoe5gef"]

[ext_resource type="Script" uid="uid://bl35n2knhxeuu" path="res://Scenes/Note/note.gd" id="1_urdro"]
[ext_resource type="StyleBox" uid="uid://dr0kq08kg1hre" path="res://Styles/BlackPanel.tres" id="2_2m4no"]
[ext_resource type="Shader" path="res://Shader/Sephia/sephia.gdshader" id="2_qsuu7"]
[ext_resource type="Material" uid="uid://bvdd6vxb6n8tc" path="res://Shader/BlackAndWhite/template.tres" id="3_inb6f"]
[ext_resource type="PackedScene" uid="uid://oo1kro8cfwvg" path="res://Scenes/Note/parts/NoteTab.tscn" id="4_inb6f"]
[ext_resource type="PackedScene" uid="uid://cl3tx3ln0xeju" path="res://Scenes/Note/parts/NoteBtn.tscn" id="6_inb6f"]
[ext_resource type="FontFile" uid="uid://dlia1t71max12" path="res://Fonts/PixelOperator.ttf" id="6_qsuu7"]

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_b8pka"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_inb6f"]
shader = ExtResource("2_qsuu7")

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_b4xxh"]
bg_color = Color(0.133196, 0.133196, 0.133196, 1)

[sub_resource type="Shader" id="Shader_qsuu7"]
code = "shader_type canvas_item;

uniform float glow_intensity : hint_range(0.0, 5.0) = 1.5;
uniform float glow_radius : hint_range(0.0, 20.0) = 5.0;
uniform float opacity : hint_range(0.0, 1.0) = 1.0;
uniform float glow_offset_strength : hint_range(0.0, 10.0) = 1.0; // controls how far inward samples are pulled

void fragment() {
    vec2 texel_size = vec2(1.0) / vec2(textureSize(TEXTURE, 0));
    vec4 base_color = texture(TEXTURE, UV);

    vec3 glow = vec3(0.0);
    float total = 0.0;

    // Direction toward center from current fragment
    vec2 center = vec2(0.5);
    vec2 to_center = normalize(center - UV);

    for (float x = -glow_radius; x <= glow_radius; x++) {
        // Pull each sample inward toward center
        vec2 offset = to_center * x * texel_size.x * glow_offset_strength;
        glow += texture(TEXTURE, UV + offset).rgb;
        total += 1.0;
    }

    glow = (glow / total) * glow_intensity;
    vec3 final_color = base_color.rgb + glow;

    COLOR = vec4(final_color, base_color.a * opacity);
}
"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_b8pka"]
shader = SubResource("Shader_qsuu7")
shader_parameter/glow_intensity = 0.839
shader_parameter/glow_radius = 9.475
shader_parameter/opacity = 1.0
shader_parameter/glow_offset_strength = 2.888

[sub_resource type="ViewportTexture" id="ViewportTexture_qsuu7"]
viewport_path = NodePath("SubViewport")

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_qcla4"]
bg_color = Color(0.18, 0.18, 0.18, 0)
border_width_left = 5
border_width_top = 5
border_width_right = 5
border_width_bottom = 5
border_color = Color(0, 1, 0.333333, 1)
corner_radius_top_left = 5
corner_radius_top_right = 5
corner_radius_bottom_right = 5
corner_radius_bottom_left = 5
expand_margin_left = 3.0
expand_margin_top = 3.0
expand_margin_right = 3.0
expand_margin_bottom = 3.0

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_4wpmt"]
bg_color = Color(0, 0, 0, 1)
corner_radius_top_left = 5
corner_radius_top_right = 5
corner_radius_bottom_right = 5
corner_radius_bottom_left = 5

[sub_resource type="LabelSettings" id="LabelSettings_qsuu7"]
font = ExtResource("6_qsuu7")
font_color = Color(0, 0.964706, 0.278431, 1)
outline_size = 2
outline_color = Color(0.19, 0.19, 0.19, 0.376471)
shadow_offset = Vector2(2, 2)

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_inb6f"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_mny5u"]
bg_color = Color(0, 0.392157, 0, 0.9)
corner_radius_bottom_right = 10
corner_radius_bottom_left = 10
shadow_size = 1
shadow_offset = Vector2(5, 5)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_ei6v4"]
bg_color = Color(0, 0.392157, 0, 0.9)
corner_radius_bottom_right = 10
corner_radius_bottom_left = 10
shadow_size = 1
shadow_offset = Vector2(5, 5)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_owv3x"]
bg_color = Color(0, 0.392157, 0, 0.9)
corner_radius_bottom_right = 10
corner_radius_bottom_left = 10
shadow_size = 1
shadow_offset = Vector2(5, 5)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_qsuu7"]
bg_color = Color(0, 0, 0, 0.388235)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_ief6q"]
bg_color = Color(0.18, 0.18, 0.18, 0)
border_width_left = 5
border_width_top = 5
border_width_right = 5
border_width_bottom = 5
border_color = Color(0, 1, 0.333333, 1)
corner_radius_top_left = 5
corner_radius_top_right = 5
corner_radius_bottom_right = 5
corner_radius_bottom_left = 5
expand_margin_left = 15.0
expand_margin_top = 15.0
expand_margin_right = 15.0
expand_margin_bottom = 15.0

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_inb6f"]
bg_color = Color(0, 0, 0, 0.54902)

[sub_resource type="LabelSettings" id="LabelSettings_ief6q"]
font = ExtResource("6_qsuu7")
font_color = Color(0.266667, 1, 0.2, 0.8)
outline_size = 2
outline_color = Color(0.346667, 1, 0.2, 0.501961)

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_x4oev"]

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_mny5u"]

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_qcla4"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_x4oev"]
bg_color = Color(0.18, 0.18, 0.18, 0)
border_width_left = 5
border_width_top = 5
border_width_right = 5
border_width_bottom = 5
border_color = Color(0, 1, 0.333333, 1)
corner_radius_top_left = 5
corner_radius_top_right = 5
corner_radius_bottom_right = 5
corner_radius_bottom_left = 5
expand_margin_left = 24.0
expand_margin_top = 24.0
expand_margin_right = 24.0
expand_margin_bottom = 24.0

[node name="Terminal" type="PanelContainer"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 3
size_flags_vertical = 3
theme_override_styles/panel = SubResource("StyleBoxEmpty_b8pka")
script = ExtResource("1_urdro")

[node name="SubViewport" type="SubViewport" parent="."]
size = Vector2i(1920, 1080)

[node name="SnapshotTextureRect" type="TextureRect" parent="SubViewport"]
material = SubResource("ShaderMaterial_inb6f")
offset_right = 1920.0
offset_bottom = 1080.0

[node name="BackgroundTextureRect" type="TextureRect" parent="."]
material = ExtResource("3_inb6f")
layout_mode = 2

[node name="SnapshotControl" type="Control" parent="."]
layout_mode = 2

[node name="PanelContainer" type="PanelContainer" parent="SnapshotControl"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_styles/panel = SubResource("StyleBoxFlat_b4xxh")

[node name="Overlay" type="MarginContainer" parent="SnapshotControl/PanelContainer"]
layout_mode = 2
theme_override_constants/margin_left = 25
theme_override_constants/margin_top = 25
theme_override_constants/margin_right = 25
theme_override_constants/margin_bottom = 25

[node name="TextureRect" type="TextureRect" parent="SnapshotControl/PanelContainer/Overlay"]
material = SubResource("ShaderMaterial_b8pka")
layout_mode = 2
texture = SubResource("ViewportTexture_qsuu7")
expand_mode = 2

[node name="PanelContainer" type="PanelContainer" parent="SnapshotControl/PanelContainer/Overlay"]
layout_mode = 2
theme_override_styles/panel = SubResource("StyleBoxFlat_qcla4")

[node name="Trim" type="MarginContainer" parent="SnapshotControl/PanelContainer"]
layout_mode = 2
size_flags_horizontal = 0
theme_override_constants/margin_left = 100
theme_override_constants/margin_right = 0

[node name="PanelContainer" type="PanelContainer" parent="SnapshotControl/PanelContainer/Trim"]
layout_mode = 2
size_flags_horizontal = 8
size_flags_vertical = 8
theme_override_styles/panel = SubResource("StyleBoxFlat_4wpmt")

[node name="MarginContainer" type="MarginContainer" parent="SnapshotControl/PanelContainer/Trim/PanelContainer"]
layout_mode = 2
theme_override_constants/margin_left = 10
theme_override_constants/margin_top = 10
theme_override_constants/margin_right = 10
theme_override_constants/margin_bottom = 17

[node name="Label" type="Label" parent="SnapshotControl/PanelContainer/Trim/PanelContainer/MarginContainer"]
layout_mode = 2
size_flags_horizontal = 4
size_flags_vertical = 8
text = "scp@user://memory_recovery_protocol.exe"
label_settings = SubResource("LabelSettings_qsuu7")

[node name="TabControl" type="Control" parent="."]
layout_mode = 2

[node name="PanelContainer" type="PanelContainer" parent="TabControl"]
layout_mode = 1
anchors_preset = 10
anchor_right = 1.0
offset_bottom = 42.0
grow_horizontal = 2
theme_override_styles/panel = SubResource("StyleBoxEmpty_inb6f")

[node name="MarginContainer" type="MarginContainer" parent="TabControl/PanelContainer"]
layout_mode = 2
theme_override_constants/margin_left = 50
theme_override_constants/margin_top = 0
theme_override_constants/margin_right = 50
theme_override_constants/margin_bottom = 50

[node name="HBoxContainer" type="HBoxContainer" parent="TabControl/PanelContainer/MarginContainer"]
layout_mode = 2

[node name="HBoxContainer" type="HBoxContainer" parent="TabControl/PanelContainer/MarginContainer/HBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3

[node name="NoteTab" parent="TabControl/PanelContainer/MarginContainer/HBoxContainer/HBoxContainer" instance=ExtResource("4_inb6f")]
layout_mode = 2
theme_override_styles/panel = SubResource("StyleBoxFlat_mny5u")
tab_title = "NOTES"

[node name="UnusedTab" parent="TabControl/PanelContainer/MarginContainer/HBoxContainer/HBoxContainer" instance=ExtResource("4_inb6f")]
layout_mode = 2
theme_override_styles/panel = SubResource("StyleBoxFlat_ei6v4")
tab_title = "???"

[node name="CloseTab" parent="TabControl/PanelContainer/MarginContainer/HBoxContainer" instance=ExtResource("4_inb6f")]
layout_mode = 2
theme_override_styles/panel = SubResource("StyleBoxFlat_owv3x")
tab_title = "CLOSE"

[node name="PreviewControl" type="Control" parent="."]
layout_mode = 2

[node name="PanelContainer" type="PanelContainer" parent="PreviewControl"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_styles/panel = SubResource("StyleBoxFlat_qsuu7")

[node name="MarginContainer" type="MarginContainer" parent="PreviewControl/PanelContainer"]
layout_mode = 2

[node name="Control" type="Control" parent="PreviewControl/PanelContainer/MarginContainer"]
layout_mode = 2

[node name="Overlay" type="MarginContainer" parent="PreviewControl/PanelContainer"]
layout_mode = 2
theme_override_constants/margin_left = 25
theme_override_constants/margin_top = 25
theme_override_constants/margin_right = 25
theme_override_constants/margin_bottom = 25

[node name="PanelContainer" type="PanelContainer" parent="PreviewControl/PanelContainer/Overlay"]
layout_mode = 2
theme_override_styles/panel = SubResource("StyleBoxFlat_ief6q")

[node name="Trim" type="MarginContainer" parent="PreviewControl/PanelContainer"]
layout_mode = 2
theme_override_constants/margin_right = 100

[node name="PanelContainer" type="PanelContainer" parent="PreviewControl/PanelContainer/Trim"]
layout_mode = 2
size_flags_horizontal = 8
size_flags_vertical = 8
theme_override_styles/panel = SubResource("StyleBoxFlat_4wpmt")

[node name="MarginContainer" type="MarginContainer" parent="PreviewControl/PanelContainer/Trim/PanelContainer"]
layout_mode = 2
theme_override_constants/margin_left = 10
theme_override_constants/margin_top = 10
theme_override_constants/margin_right = 10
theme_override_constants/margin_bottom = 5

[node name="Label" type="Label" parent="PreviewControl/PanelContainer/Trim/PanelContainer/MarginContainer"]
layout_mode = 2
size_flags_horizontal = 4
size_flags_vertical = 8
text = "scp@user://NoteSystem.exe"
label_settings = SubResource("LabelSettings_qsuu7")

[node name="CreateNoteControl" type="Control" parent="."]
layout_mode = 2

[node name="PanelContainer" type="PanelContainer" parent="CreateNoteControl"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_styles/panel = SubResource("StyleBoxFlat_inb6f")

[node name="MarginContainer" type="MarginContainer" parent="CreateNoteControl/PanelContainer"]
layout_mode = 2
size_flags_horizontal = 4
size_flags_vertical = 4

[node name="PanelContainer" type="PanelContainer" parent="CreateNoteControl/PanelContainer/MarginContainer"]
custom_minimum_size = Vector2(400, 100)
layout_mode = 2
theme_override_styles/panel = ExtResource("2_2m4no")

[node name="VBoxContainer" type="VBoxContainer" parent="CreateNoteControl/PanelContainer/MarginContainer/PanelContainer"]
layout_mode = 2
theme_override_constants/separation = 0

[node name="MarginContainer" type="MarginContainer" parent="CreateNoteControl/PanelContainer/MarginContainer/PanelContainer/VBoxContainer"]
layout_mode = 2
theme_override_constants/margin_left = 10
theme_override_constants/margin_top = 10
theme_override_constants/margin_right = 10
theme_override_constants/margin_bottom = 10

[node name="Label" type="Label" parent="CreateNoteControl/PanelContainer/MarginContainer/PanelContainer/VBoxContainer/MarginContainer"]
layout_mode = 2
text = "Create note:"
label_settings = SubResource("LabelSettings_ief6q")

[node name="ColorRect" type="ColorRect" parent="CreateNoteControl/PanelContainer/MarginContainer/PanelContainer/VBoxContainer"]
custom_minimum_size = Vector2(0, 75)
layout_mode = 2
color = Color(1.22733e-06, 0.424974, 0.101946, 1)

[node name="MarginContainer" type="MarginContainer" parent="CreateNoteControl/PanelContainer/MarginContainer/PanelContainer/VBoxContainer/ColorRect"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_constants/margin_left = 20
theme_override_constants/margin_top = 0
theme_override_constants/margin_right = 20
theme_override_constants/margin_bottom = 0

[node name="LineEdit" type="LineEdit" parent="CreateNoteControl/PanelContainer/MarginContainer/PanelContainer/VBoxContainer/ColorRect/MarginContainer"]
layout_mode = 2
size_flags_vertical = 4
theme_override_colors/font_placeholder_color = Color(0.654232, 0.654232, 0.654232, 1)
theme_override_colors/font_color = Color(1, 1, 1, 1)
theme_override_fonts/font = ExtResource("6_qsuu7")
theme_override_font_sizes/font_size = 16
theme_override_styles/focus = SubResource("StyleBoxEmpty_x4oev")
theme_override_styles/read_only = SubResource("StyleBoxEmpty_mny5u")
theme_override_styles/normal = SubResource("StyleBoxEmpty_qcla4")
text = "Content"
placeholder_text = "new text here"
max_length = 60
context_menu_enabled = false
emoji_menu_enabled = false
shortcut_keys_enabled = false
middle_mouse_paste_enabled = false
selecting_enabled = false
deselect_on_focus_loss_enabled = false
drag_and_drop_selection_enabled = false

[node name="MarginContainer2" type="MarginContainer" parent="CreateNoteControl/PanelContainer/MarginContainer/PanelContainer/VBoxContainer"]
layout_mode = 2
theme_override_constants/margin_left = 0
theme_override_constants/margin_top = 0
theme_override_constants/margin_right = 0
theme_override_constants/margin_bottom = 0

[node name="HBoxContainer" type="HBoxContainer" parent="CreateNoteControl/PanelContainer/MarginContainer/PanelContainer/VBoxContainer/MarginContainer2"]
layout_mode = 2
theme_override_constants/separation = 0
alignment = 2

[node name="SaveNoteBtn" parent="CreateNoteControl/PanelContainer/MarginContainer/PanelContainer/VBoxContainer/MarginContainer2/HBoxContainer" instance=ExtResource("6_inb6f")]
layout_mode = 2
key_label = "ENTER"
action_label = "SAVE"

[node name="CloseNoteBtn" parent="CreateNoteControl/PanelContainer/MarginContainer/PanelContainer/VBoxContainer/MarginContainer2/HBoxContainer" instance=ExtResource("6_inb6f")]
layout_mode = 2
size_flags_horizontal = 1
key_label = "tab"
action_label = "Cancel"

[node name="Overlay" type="MarginContainer" parent="CreateNoteControl/PanelContainer"]
layout_mode = 2
theme_override_constants/margin_left = 25
theme_override_constants/margin_top = 25
theme_override_constants/margin_right = 25
theme_override_constants/margin_bottom = 25

[node name="PanelContainer" type="PanelContainer" parent="CreateNoteControl/PanelContainer/Overlay"]
layout_mode = 2
theme_override_styles/panel = SubResource("StyleBoxFlat_x4oev")

[node name="Trim" type="MarginContainer" parent="CreateNoteControl/PanelContainer"]
layout_mode = 2
theme_override_constants/margin_right = 50

[node name="PanelContainer" type="PanelContainer" parent="CreateNoteControl/PanelContainer/Trim"]
layout_mode = 2
size_flags_horizontal = 8
size_flags_vertical = 8
theme_override_styles/panel = SubResource("StyleBoxFlat_4wpmt")

[node name="MarginContainer" type="MarginContainer" parent="CreateNoteControl/PanelContainer/Trim/PanelContainer"]
layout_mode = 2
theme_override_constants/margin_left = 10
theme_override_constants/margin_top = 10
theme_override_constants/margin_right = 10
theme_override_constants/margin_bottom = 5

[node name="Label" type="Label" parent="CreateNoteControl/PanelContainer/Trim/PanelContainer/MarginContainer"]
layout_mode = 2
size_flags_horizontal = 4
size_flags_vertical = 8
text = "scp@user:/CreateNote.exe"
label_settings = SubResource("LabelSettings_qsuu7")

[node name="NoteControl" type="Control" parent="."]
layout_mode = 2
